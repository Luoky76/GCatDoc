# 事件格式规范
  该事件规范定义了前后端事件的交互格式，前端发送事件交给后端处理，并在`eDetail`中填写事件详细内容（部分事件不必填写，此时该项直接不写即可），后端处理好事件后将处理结果按规定格式填入`eDetail`中（`eDetail`原本内容直接清除），然后将事件回送给前端。
  事件的编号即发起时间需由前端填写，时间格式为自 1970 年 1 月 1 日后所经过的秒数。

## 推荐仓库事件
+ 前端发送事件
```js
{
  "eventID": 422743326,
  "userID": "Luoky76",
  "eType": "Recommend",
  "eTime": 1459994552.51
}
```
+ 前端接收事件
```js
{
  "eventID": 422743326,
  "userID": "Luoky76",
  "eType": "Recommend",
  "eDetail": [
    "https://github.com/Luoky76/GCat",
    "https://github.com/ShakingSH/bobing"
  ]
  "eTime": 1459994552.51
}
```
## 获取信息事件
+ 前端发送事件
前端在`eDetail`中指明所需信息（键），其值放空即可，下例为前端一次性获取各类信息时的一种写法。
```js
{
  "eventID": 422743326,
  "userID": "Luoky76",
  "eType": "GetInfo",
  "eDetail": {
    "codeQuantity": "",
    "newRepositoryCnt": "",
    "finishedRepositoryCnt": "",
    "newCollaboratorCnt": "",
    "browseCnt": "c++",    //"all"表示全部，填写具体语言，有"c++" "python" "java" "git" "other" "all"五种取值
    "browseList": "c++",
    "actionList": "all"    //"all"表示全部，填写具体行为，有”push” “pull” “commit” “merge” “remote” "all"六种取值
  }
  "eTime": 1459994552.51
}
```
+ 前端接收事件
后端需要通过判断事件中是否存在特定键来判断前端是否需要该信息。可使用字典方法`__contains__(key)`，这是字典类的方法，用于判断字典中是否存在某一个键。
```js
{
  "eventID": 422743326,
  "userID": "Luoky76",
  "eType": "GetInfo",
  "eDetail": {
    "codeQuantity": 207890,
    "newRepositoryCnt": 3,
    "finishedRepositoryCnt": 5,
    "newCollaboratorCnt": 7,
    "browseCnt": 20, 
    "browseList": [
      "https://github.com/Luoky76/GCat",
      "https://github.com/ShakingSH/bobing"
    ]
    "actionList": [
      [
          "push",
          "2021/11/13 2:02"
      ]
      [
          "commit",
          "2021/11/13 2:05"
      ]
    ]
  "eTime": 1459994552.51
}
```
## 更改用户信息事件